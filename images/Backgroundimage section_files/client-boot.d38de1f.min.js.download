(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{JnmR:function(e,t,n){"use strict";n.d(t,"w",(function(){return o})),n.d(t,"v",(function(){return r})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"D",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"u",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"x",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"C",(function(){return v})),n.d(t,"r",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return w})),n.d(t,"t",(function(){return y})),n.d(t,"s",(function(){return S})),n.d(t,"B",(function(){return A})),n.d(t,"z",(function(){return I})),n.d(t,"A",(function(){return k})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return x})),n.d(t,"y",(function(){return B})),n.d(t,"b",(function(){return W})),n.d(t,"o",(function(){return C}));const o=180,r=600,c=260,a=278,i=310,s=1e3,l=24,d=289,u=321,b=15,m={MANUAL:"manual",AUTO:"auto"},p=500,_=140,h=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:260},{minWidth:0,sidebar:200,inspector:260}],f=[{min:o,max:220,className:"p-workspace__sidebar--tiny"},{min:r-50,max:r,className:"p-workspace__sidebar--large"}],g=[{min:c,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:s,className:"p-workspace__secondary_view--large"}],v=[{min:c,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:s,className:"p-workspace__tiles--large"}],O=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],j=260,w=400,y=8,S=16,A=60,I="sidebarWidthIntent",k="sidebarWidthMode",T="inspectorWidthIntent",x="inspectorWidthMode",B="isSidebarVisible",W="calculatedSidebarWidth",C="LAYOUT"},"Qe/g":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("RVJP"),r=n("Smdl"),c=n("wwBm");function a(e){return"treatment"===Object(o.d)(e,"mwc")&&Object(r.a)()}let i;function s(){if(!Object(r.a)())return!1;if(void 0===i){const e=Object(c.d)(location.search);i=!!e.channel_popout}return i}},"d/52":function(e,t,n){"use strict";n.r(t);var o=n("4Z3G"),r=n("sDWr"),c=n("JtEI"),a=n("t4eE"),i=n("rWF5"),s=n("vATg"),l=n("z2u5"),d=n("Omjo"),u=n("A4VO"),b=n("rb67"),m=n("4Ms+"),p=n("j77i"),_=n("d1Gh"),h=n("qe1s"),f=n("TIeP"),g=n("igaJ"),v=n("Qe/g"),O=n("VMwU"),j=n("JnmR");n("i/gx");const w=".p-client_container_placeholder";function y(e){let{teamId:t,showTeamSwitcher:n=!1}=e;const o=Object(p.e)(t,"channelSidebarBackground"),r=Object(p.e)(t,"teamSwitcherBackground"),c=Object(p.e)(t,"textColor"),s=Object(p.e)(t,"topNavBackground")||o,l=document.querySelector(w);if(!l)return;if(Object(v.a)())return void function(e){const t=document.createElement("div");t.classList.add("p-view_header_placeholder"),e.appendChild(t);const n=document.createElement("div");n.classList.add("p-message_input_placeholder"),e.appendChild(n),e.classList.add("p-client_container_placeholder--channel-popout")}(l);const d=l.querySelector(".p-client_container_placeholder__nav");if(!o)return void S();if(Object(a.b)()&&n&&(l.classList.add("p-client_container_placeholder--with-team-switcher"),l.style.borderLeftColor=r),d&&c&&o){const e=Object(O.j)(c,o,.1),t=Object(O.m)(c,.1);l.style.borderRightColor=e,Object(i.H)()&&Object(i.m)()&&(d.style.height="7px"),d.style.backgroundColor=s,d.style.color=t,Object(a.b)()&&n&&(l.style.removeProperty("border-left-color"),l.style.boxShadow="-60px 0px 0px 0px "+o,d.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let u=o;const b=Object(p.e)(t,j.b);isNaN(b)||(l.style.width=b+1+"px",Object(a.b)()&&n&&0===b&&(l.style.width="60px",u="none",l.style.borderRight="none")),l.style.backgroundColor=u,l.style.opacity="1"}function S(){const e=document.querySelector(w);e&&e.remove()}var A=n("TSHB"),I=n("m8R6"),k=n("fujP"),T=n("7EGn"),x=n("vfQU"),B=n("ltDl");function W(){const e="prevTeams",t="orderedTeamIds",n=Object(p.c)(e),o=Object(k.a)(n)?Object(x.fb)()&&(()=>{const e=Object(x.I)("teams"),t=Object(x.I)("enterprise");if(!e)return null;const n=function(){let{theme:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.column_bg&&Object(O.d)(e.column_bg,20)},o=function(){let{team_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t[e]&&t[e].enterpriseId},r=function(){let{team_url:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";const{host:t,protocol:n}=Object(B.a)(e);return n+"//"+t+"/"},c=Object.keys(Object(p.c)("teams")||{}),a=Object(I.a)(e,c);return Object(A.a)(a,(e=>({id:e.team_id,name:e.team_name,url:r(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:o(e),teamSwitcherBackground:n(e),isExpired:!0})))})():n;Object(p.n)(e,o);const r=Object(p.c)(t),c=Object(k.a)(r)?Object(T.a)(Object(x.I)("appTeams"),"teamsByIndex",[]):r;Object(p.n)(t,c)}const C=Object(i.g)();C!==i.a.SAFARI&&C!==i.a.EDGE||Object(b.e)();let L=!1;function D(){Object(d.b)("BOOT","Service Worker activated. Waiting until all teams have booted to fetch API calls for caching"),L=!0}Object(i.A)()&&navigator.serviceWorker.addEventListener("controllerchange",D),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),o.a.resolve(Object(m.b)({label:"setupGantry_"+Object(c.d)(Object(u.a)())},l.a)).then((e=>{let{teamId:t,forceColdBoot:n,triggerSignInAfterBoot:a,teamIdFromUrl:s}=e;return Object(i.m)()&&!Object(p.c)("migratedDesktopLocalConfig")&&(W(),Object(p.n)("migratedDesktopLocalConfig",!0)),y({teamId:t,showTeamSwitcher:Object(_.a)().length>1}),Object(m.b)({label:"bootClient_"+Object(c.d)(n)},(function(){var e,n;Object(r.z)(),t!==Object(p.c)("lastActiveTeamId")&&Object(p.n)("lastActiveTeamId",t);const c=new URL(window.location),i=(null==c||null===(e=c.searchParams)||void 0===e?void 0:e.get("pause_boot_step"))&&parseInt(null==c||null===(n=c.searchParams)||void 0===n?void 0:n.get("pause_boot_step"),10);return new o.a((e=>{1===i?window.nextBootStep=e:e()})).then((()=>Object(h.b)({teamId:t,shouldSetFocus:true}))).then((e=>{const t=Date.now(),{store:n,bootAssets:o,isWarmBooting:r,trace:c,phase2Trace:i}=e,{isJsPath:l,mountClient:d,isReload:u,isQa:b,isDev:m,registerGlobalErrorHandler:p,registerGlobalBeforeunloadHandler:_,registerNetworkConnectivityListener:h}=o;p(),_(),h();const f=n.getState(),g=o.getTelemeter({state:f}),v=o.getTracer({state:f}),O=r?"warm":"cold";l||m||b||(g.store("sonic_boot_phase_2_"+O,Date.now()-window.sonic_boot__phase_2__start),null==i||i.startSpan("sonic_boot_phase_2_"+O,{startTime:window.sonic_boot__phase_2__start,closeTime:Date.now()}),v.reportTrace(i),u()&&g.count("sonic_boot_via_reload"));let j=!0;return S(),d(document.querySelector(".p-client_container"),(()=>{l||m||b||!j||(g.store("sonic_boot_phase_3_"+O,Date.now()-t),null==c||c.startSpan("sonic_boot_phase_3_"+O,{startTime:t,closeTime:Date.now()}),j=!1)})),v.reportTrace(c),Object.assign({},e,{triggerSignInAfterBoot:a,teamIdFromUrl:s})}))}))})).catch((e=>{S(),Object(s.e)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})})).tap((function(e){return e.bootAssets.listenForLongTasks(),o.a.resolve(e)})).tap((function(){let{bootAssets:e,triggerSignInAfterBoot:t,teamIdFromUrl:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return;const{startWorkspaceSignIn:o,getClientStoreInstance:r}=e,c=r();c.dispatch(o({teamId:n}))})).then((function(e){if(!Object(a.b)())return o.a.resolve(e);const t=e.teamId,n=e.bootAssets.getAuthedTeamsFromLocalConfig().filter((e=>e!==t));Object(d.b)("BOOT","Booting other teams: "+n.join(","));return n.map((e=>h.b.bind(null,{teamId:e}))).reduce(((e,t,o)=>e.catch((e=>{Object(s.a)(n[o-1],e)})).finally(t)),o.a.resolve()).then((()=>e))})).then((function(e){const{bootAssets:t}=e,{registerMinVersionPoll:n}=t;return n(),o.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.storeSSBMemoryStatsOnAnInterval(),o.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.storeReduxStoreStatsOnAnInterval(),o.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.storeA11yClientStats(),o.a.resolve(e)})).then((function(e){var t;return null==e||null===(t=e.bootAssets)||void 0===t||t.updateA11yPreferences(e),o.a.resolve(e)})).tap((function(e){const{createCookie:t,isDesktopApiAvailable:n,getInstanceUid:r}=e.bootAssets;return n()&&t("ssb_instance_id",r(),3650,".slack.com"),o.a.resolve(e)})).then((function(e){const{bootAssets:t}=e,{registerServiceWorker:n,fetchApiCallsForCaching:r}=t;if(!Object(i.A)())return Object(d.b)("BOOT","Service Worker unavailable; Skipping registration."),o.a.resolve(e);L?(Object(d.b)("BOOT","Service Worker activated earlier; Fetching API calls for caching."),r(e)):navigator.serviceWorker.addEventListener("controllerchange",(()=>{Object(d.b)("BOOT","Service Worker activated; Fetching API calls for caching."),r(e)}));return navigator.serviceWorker.removeEventListener("controllerchange",D),n(),o.a.resolve(e)})).then((function(e){const{bootAssets:t}=e,{isJsPath:n,isProduction:r,removeUrlQueryStringValue:c}=t;if(r&&!n){if(window.location.search.match("force_cold_boot")){const e=c(window.location.href,"force_cold_boot");window.history.replaceState({},"",e)}if(window.location.search.match("new_enough_acceptable")){const e=c(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",e)}}return o.a.resolve(e)})).then((function(e){const t=e.bootAssets.getAuthedTeamsFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then((()=>e))})).then((function(e){const{getClientStoreInstance:t,getStoreInstanceByTeamId:n,getSharedStoreInstanceByEnterpriseId:r,initPersistenceForTeam:c}=e.bootAssets,a=t();return Object(g["getBootedWorkspaces"])(a.getState()).forEach((e=>{const t=n(e);c({teamId:e,store:t});const o=r(e);if(o){var a,i;const e=null===(a=o.getState())||void 0===a||null===(i=a.selfTeamIds)||void 0===i?void 0:i.enterpriseId;c({teamId:e,store:o})}})),o.a.resolve(e)})).tap((function(e){return e.bootAssets.reportLongTailTeamUsage(e),o.a.resolve(e)})).then((function(e){const{getClientStoreInstance:t,getGenericTelemeter:n}=e.bootAssets;return t().dispatch(Object(f.setDidBootAllWorkspaces)()),n().count("sonic_boot_completed"),Object(h.a)(),o.a.resolve(e)}))},d1Gh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("cZF4"),r=n("Muja"),c=n("0VPD"),a=n("j77i");function i(){const e="orderedTeamIds",t=Object.keys(Object(a.h)()),n=Object.keys(Object(a.g)()),i=Object.keys(Object(a.f)()),s=Object(o.a)(t,n,i),l=Object(a.c)(e),d=Object(o.a)(Object(c.a)(l,s),t,i);return Object(r.a)(d,l)||Object(a.n)(e,d),d}},"i/gx":function(e,t,n){}},[["d/52","gantry-manifest","gantry-vendors","gantry-shared","client-boot-styles"]]]);